---
title: 端口
summary: 端口就是设备端或应用端与外界通讯交流的出口。
toc: false
---

<div id="toc"></div>

&emsp;&emsp;顾名思义，端口就是设备端或应用端与外界通讯交流的出口。云帮在这里指的是当前应用的端口：

<img src="https://static.goodrain.com/images/acp/docs/user-docs/myapps/myapp-platform-port1.png" style="border:1px solid #eee;max-width:100%" />

## 端口号

端口号的范围从0到65535(2^16-1)，比如用于浏览网页服务的80端口，用于FTP服务的21端口等。云帮构建应用程序指定端口号有所不同：

###源代码构建的应用

源代码构建的应用，默认端口是5000，端口号是根据不同的语言启动时候使用的 `$PORT` 变量来定义。如果你的程序启动后监听的不是5000端口，请点击途中 绿色图标 进行修改，修改后需请重启应用。

###Dockerfile构建的应用

  使用Dockerfile构建的应用，云帮会自动识别 `EXPOSE` 指令中定义的端口来指定端口。

## 协议类型

### http协议

HTTP协议(HyperText Transfer Protocol，超文本传输协议)是用于从WWW服务器传输超文本到本地浏览器的传送协议。它可以使浏览器更加高效，使网络传输减少

### stream协议

其它非 HTTP的 协议，我们称之为stream协议（比如连接mysql服务使用的TCP协议，这就是stream协议）

## 服务信息

### 对外服务

  当应用需要给平台内部其他应用使用时，需要打开 对外服务。打开 对外服务 的应用通过设置应用的别名，生成该应用的环境变量。

> **举例**
>
>   - 云市中安装的MySQL服务
>     默认是开启对外服务的，它的别名是 `MYSQL` 这样其他的应用如果想使用这个MySQL服务，关联后就可以直接使用 `MySQL_HOST` 和 `MYSQL_PORT` 两个变量来连接这个数据库服务了。
>
>   - 用户自己写的API服务
>     如果用户自己开发了一个应用，需要对外服务使用，这时就可以开启对外服务，并设置好别名，这样团队账号中的其他应用就可以通过应用别名访问到这个应用了。比如这个应用的别名是 `USER_API` 这样其他应用可以关联到这个应用，并使用 `USER_API_HOST` 和 `USER_API_PORT` 来访问到这个API应用了。

{{site.data.alerts.callout_success}}如果安装的应用使用第三方的rpc调用(如dubbo），它本身实现了服务发现机制，则不需要开启对外服务。{{site.data.alerts.end}}
### 外部访问

  当前应用如果提供外网服务，则需要打开 对外服务 选项，开启后可以直接点击 访问地址 进行访问。

## 新增绑定域名

用户想使用自己的域名，可以通过绑定域名的方式来设置。

绑定域名只是在云帮平台做个标记和绑定，也就是说，用户设置的自定义域名将关联到这个应用上，但如果想让这个绑定的域名生效，还需要到你的DNS服务商那里进行 `CNAME`记录的设置。详情参见：[[如何为应用设置一个自己的域名](https://t.goodrain.com/t/topic/251)](http://t.goodrain.com/t/topic/251)